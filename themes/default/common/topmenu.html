<div class="row topmenu" style="display: flex; justify-content: space-between; align-items: center; height: auto;">

    <div class="title"><a class="heading-link" href="https://davidsilvacollege.lakmal.xyz/" target="_blank">David De Silva College <br/> Minuwangoda </a></div>

    <div class="time">{{ date_now }} <br/> <div class="digital-clock">{{ time_now }}</div> </div>

    <div>

        <div class="d-flex justify-content-space-between">

            <a href="{{ app.url }}/messages" class="text-white" style="text-decoration: none;">
                <i class="la la-comments"></i>
            </a>
            
            <div class="notifications">
                <i class="la la-bell dropdown-toggle" id="dropdownNotificationsButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>

                <div class="dropdown-container dropdown-menu"  style="width: 500px;;">
                    <ul class="list-group">

                        {% for notification in notifications %}
                        <li id="notification-{{ notification.id }}" class="list-group-item notification-each" style="display: flex; flex-direction: column;">
                           <div style="display: flex;justify-content: space-between;align-items: center;">
                                <div class="title">{{ notification.title }}</div>
                                <i class="la la-check" title="Mark as Read"></i>
                           </div>
                            <div style="display: flex;justify-content: space-between;align-items: center;">
                                <p class="text">{{ notification.body }}</p>
                                <i class="la la-trash" title="Delete Notification" onclick="deleteNotification('{{ notification.id }}')"></i>
                            </div>
                        </li>
                        {% endfor %}

                    </ul>
                </div>
            </div>

            <div class="settings">        
                
                <i class="la la-cog" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a class="dropdown-item" href="{{ app.url }}/{{ user.type }}/profile/{{ user.ref_id }}"> <i class="la la-user"></i>My Profile</a></li>
                    <li class="dropdown-item">
                        <div class="row">
                            <div class="col align-self-center"><i class="la la-adjust"></i>Dark Mode</div>
                            <div class="col">
                                {% if user.theme == 'Dark' %}
                                <input id="theme-mode-toggle" type="checkbox" data-toggle="toggle" data-style="ios" data-onstyle="dark" data-offstyle="info" checked="checked" />
                                {% else %}
                                <input id="theme-mode-toggle" type="checkbox" data-toggle="toggle" data-style="ios" data-onstyle="dark" data-offstyle="info" />
                                {% endif %}
                            </div>
                        </div>
                    </li>
                    <li><a class="dropdown-item" href="{{ app.url }}/logout"> <i class="la la-sign-out"></i>Logout</a></li>
                </ul>

            </div>
            
        </div>

    </div>

</div>

<script>

function deleteNotification(id){
    $("#notification-"+id).addClass('d-none');
}

</script>