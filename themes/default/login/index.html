<html>
    {{ template.header|raw }}
    <body>    

    <div class="container-fluid login">

        <div class="section p-4">
            <a href="https://davidsilvacollege.lakmal.xyz/" class="website"><h6>Back to Official Website</h6></a>
        </div>

        <div class="container my-auto">
            <div class="row ">

                <div class="col-6 title my-auto">
                    <h1 class="login-title"> School Management System <h1>
                    <hr class="mt-4 mb-4"/>
                    <h3 class="login-sub-title mb-5"> David De Silva College <br/> Minuwangoda - Negombo </h3>
                </div>

                <div class="col-4 offset-2 mx-auto my-auto loginform p-5">

                    <form name="loginform" method="post">

                        {% if msg %}
                            <div class="alert alert-danger">{{ msg }}</div>
                        {% endif %}

                        <div class="form-group">
                            <label>Username</label>
                            <input class="form-control" type="text" id="username" name="username" placeholder="Username" required/>
                        </div>
                
                        <div class="form-group mt-3">
                            <label>Password</label>
                            <input class="form-control" type="password" id="username" name="password" placeholder="Password" required/>
                        </div>

                        <div class="form-group ml-4 mt-3 remember">
                            <div class="row">
                                <div class="col-6 pr-0">
                                    <input type="checkbox" class="form-check-input" id="remember-me" name="remember-me">
                                    <label>Remember me</label>
                                </div>

                                <div class="col-6 ml-auto form-group login-as">
                                    
                                    <select class="form-control form-control-sm selectpicker show-tick" id="login_as" name="login_as" required>
                                        <option value="" selected hidden>Login as</option>
                                        <option value="student">Student</option>
                                        <option value="parent">Parent</option>
                                        <option value="staff">Staff</option>
                                    </select>
                                </div>

                            </div>
                        </div>
                        
                        <input type="hidden" name="is_submit" value="true"/>
                        <!-- <button class="btn btn-primary mt-5 px-5" onClick="login();">Login</button> -->
                        <button class="btn btn-primary mt-5 px-5" type="submit">Login</button>
                        <button class="btn btn-secondary mt-5 px-4" type="reset" name="reset">Clear</button>

                    </form>
                </div>
                
            </div>
        </div>
    </div>
    {{ template.footer|raw }}
    </body>

    <!-- <script>
        // START : LOGIN
        login = () => {

            // PAYLOAD
            var formData = new FormData;
            formData.append('username', $("#username").val())
            formData.append('password', $("#password").val())
            formData.append('login_as', $("#login_as").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_login",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Login Successful... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.message);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : LOGIN
    </script> -->

</html>
