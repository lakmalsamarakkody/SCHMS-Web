<html>
    {{ template.header|raw }}
    <body>    

    <div class="container-fluid login">

        <div class="section p-4">
            <a href="https://davidsilvacollege.lakmal.xyz/" class="website"><h6>Back to Official Website</h6></a>
        </div>

        <div class="container my-auto">
            <div class="row ">

                <div class="col-6 title my-auto">
                    <h1 class="login-title"> School Management System <h1>
                    <hr class="mt-4 mb-4"/>
                    <h3 class="login-sub-title mb-5"> David De Silva College <br/> Minuwangoda - Negombo </h3>
                </div>

                <div class="col-4 offset-2 mx-auto my-auto loginform pt-5">

                    <div class="tab-content px-4" id="myTabContent">

                        <!-- LOGIN TAB -->
                        <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
                            <form name="loginform" method="post">

                                <!-- OUTPUT MESSAGES -->
                                {% if msg %}
                                    <div class="alert alert-danger">{{ msg }}</div>
                                    <hr width="100%"/>
                                {% endif %}

                                <!-- USERNAME -->
                                <div class="form-group">
                                    <label>Username</label>
                                    <input class="form-control" type="text" id="username" name="username" placeholder="Username" required/>
                                </div>
                        
                                <!-- PASSWORD -->
                                <div class="form-group mt-3">
                                    <label>Password</label>
                                    <input class="form-control" type="password" id="password" name="password" placeholder="Password" required/>
                                </div>

                                <hr width="100%"/>

                                <!-- REMEMBER ME / LOGIN AS -->
                                <div class="form-group ml-4 mt-3 remember">
                                    <div class="row">
                                        <div class="col-6 pr-0">
                                            <input type="checkbox" class="form-check-input" id="remember-me" name="remember-me">
                                            <label>Remember me</label>
                                        </div>

                                        <div class="col-6 ml-auto login-as">
                                            <select class="form-control form-control-sm selectpicker show-tick" id="login_as" name="login_as" required>
                                                <option value="" selected hidden>Login as</option>
                                                <option value="student">Student</option>
                                                <option value="parent">Parent</option>
                                                <option value="staff">Staff</option>
                                            </select>
                                        </div>

                                    </div>
                                </div>

                                <!-- LOGIN BUTTON -->
                                <div class="row col-12 p-0 mx-auto mt-4">
                                    <div class="col-4">
                                        <input type="hidden" name="is_submit" value="true"/>
                                        <button class="btn btn-secondary px-4" type="reset" name="reset">Clear</button>
                                    </div>
                                    <div class="col-8">
                                        <button class="btn btn-primary px-5" type="submit"><i class="la la-sign-in"></i> Login</button>
                                    </div>
                                </div>

                            </form>
                        </div>

                        <!-- REGISTER TAB -->
                        <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
                            HI
                        </div>
                    </div>

                    <!-- LOGIN / REGISTER TOGGLE -->
                    <div class="col-12 mt-5 p-0 text-center mx-auto">
                        <ul class="nav nav-pills" id="myTab" role="tablist">

                            <div class="col-6 p-0">
                                <li class="nav-item">
                                    <a class="nav-link active" id="login-tab" data-toggle="tab" href="#login" role="login" aria-controls="login" aria-selected="true">Login</a>
                                </li>
                            </div>

                            <div class="col-6 p-0">
                                <li class="nav-item">
                                    <a class="nav-link" id="register-tab" data-toggle="tab" href="#register" role="tab" aria-controls="register" aria-selected="false">Register</a>
                                </li>
                            </div>
                        </ul>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
    {{ template.footer|raw }}
    </body>

    <!-- <script>
        // START : LOGIN
        login = () => {

            // PAYLOAD
            var formData = new FormData;
            formData.append('username', $("#username").val())
            formData.append('password', $("#password").val())
            formData.append('login_as', $("#login_as").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_login",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Login Successful... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.message);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : LOGIN
    </script> -->

</html>
