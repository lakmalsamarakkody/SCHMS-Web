{{ template.header|raw }}

<body>

    <div class="container-fluid home">
        <div class="row">
            
            {{ template.sidenav|raw }}

            <div class="col-md-10 content">

                {{ template.topmenu|raw }}

                <div class="row schoolindex">

                    <!-- START : CLASS MANAGER -->
                    <div class="col-4 mx-auto">

                        <div class="card">

                            <div class="card-header">
                                <h6 class="pull-left">CLASSES</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#modal_addclass">ADD</button>
                                </div>
                            </div>

                            <div class="card-body">

                                <div class="table-responsive-md">

                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Grade</th>
                                                <th scope="col">Class</th>
                                                <th scope="col">Teacher in Charge</th>
                                                <th scope="col">&nbsp;</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            {% for class in classes %}
                                            <tr>
                                                <th scope="row"> {{ class.id }} </th>
                                                <td> {{ class.grade.name }} </td>
                                                <td> {{ class.name }} </td>
                                                <td> {{ class.staff.initials }} {{ class.staff.surname }}</td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>  

                                    </table>

                                </div>

                            </div>

                        </div>

                    </div>
                    <!-- END : CLASS MANAGER -->

                    <!-- START : GRADE MANAGER -->
                    <div class="col-4 mx-auto">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="pull-left">GRADES</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#modal_addgrade">ADD</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive-md">
                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col"> # </th>
                                                <th scope="col"> Grade </th>
                                                <th scope="col">&nbsp;</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for grade in grades %}
                                            <tr>
                                                <th scope="row"> {{ grade.id }} </th>
                                                <td> {{ grade.name }} </td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('{{class.id}}')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>                                        
                                    </table>
                                </div>                                
                            </div>
                        </div>
                    </div>
                    <!-- END : GRADE MANAGER -->

                    <!-- START : RELIGION MANAGER -->
                    <div class="col-4 mx-auto">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="pull-left">RELIGIONS</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#modal_addreligion">ADD</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive-md">
                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col"> # </th>
                                                <th scope="col"> Religion </th>
                                                <th scope="col">&nbsp;</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for religion in religions %}
                                            <tr>
                                                <th scope="row"> {{ religion.id }} </th>
                                                <td> {{ religion.name }} </td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>                                        
                                    </table>
                                </div>                                
                            </div>
                        </div>
                    </div>
                    <!-- END : RELIGION MANAGER -->

                    <!-- START : SUBJECT MANAGER -->
                    <div class="col-4 mx-auto">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="pull-left">SUBJECTS</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#modal_addsubject">ADD</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive-md">
                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col"> # </th>
                                                <th scope="col"> Subject </th>
                                                <th scope="col"> Sinhala Name </th>
                                                <th scope="col">&nbsp;</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for subject in subjects %}
                                            <tr>
                                                <th scope="row"> {{ subject.id }} </th>
                                                <td> {{ subject.name }} </td>
                                                <td> {{ subject.si_name }} </td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>                                        
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END : SUBJECT MANAGER -->

                    <!-- START : RELATIONSHIP MANAGER -->
                    <div class="col-4 mx-auto">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="pull-left">PARENT RELATIONSHIPS</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#modal_addrelation">ADD</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive-md">
                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col"> # </th>
                                                <th scope="col"> Relationship Type </th>
                                                <th scope="col">&nbsp;</th>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for relationship in student_relations %}
                                            <tr>
                                                <th scope="row"> {{ relationship.id }} </th>
                                                <td> {{ relationship.name }} </td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>                                        
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END : RELATIONSHIP MANAGER -->

                    <!-- START : EXAM TYPE MANAGER -->
                    <div class="col-4 mx-auto">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="pull-left">EXAM TYPES</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#model_addexamtype">ADD</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive-md">
                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col"> # </th>
                                                <th scope="col"> Exam Type </th>
                                                <th scope="col">&nbsp;</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for exam_type in exam_types %}
                                            <tr>
                                                <th scope="row"> {{ exam_type.id }} </th>
                                                <td> {{ exam_type.name }} </td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>                                        
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END : EXAM TYPE MANAGER -->

                    <!-- START : SPORT MANAGER -->
                    <div class="col-4 mx-auto">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="pull-left">SPORTS</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#model_addsport">ADD</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive-md">
                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col"> # </th>
                                                <th scope="col"> Sport </th>
                                                <th scope="col">&nbsp;</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for sport in sports %}
                                            <tr>
                                                <th scope="row"> {{ sport.id }} </th>
                                                <td> {{ sport.name }} </td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>                                        
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END : SPORT MANAGER -->

                    <!-- START : STAFF CATEGORY MANAGER -->
                    <div class="col-4 mx-auto">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="pull-left">STAFF CATEGORIES</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#model_add_staff_category">ADD</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive-md">
                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col"> # </th>
                                                <th scope="col"> Category </th>
                                                <th scope="col">&nbsp;</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for category in staff.category %}
                                            <tr>
                                                <th scope="row"> {{ category.id }} </th>
                                                <td> {{ category.name }} </td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>                                        
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END : STAFF CATEGORY MANAGER -->

                    <!-- START : STAFF TYPE MANAGER -->
                    <div class="col-4 mx-auto">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="pull-left">STAFF TYPES</h6>
                                <div class="button-group pull-right">
                                    <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#model_add_staff_type">ADD</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive-md">
                                    <table class="table table-borderless">
                                        <thead>
                                            <tr>
                                                <th scope="col"> # </th>
                                                <th scope="col"> Category </th>
                                                <th scope="col"> Type </th>
                                                <th scope="col">&nbsp;</th>                                          
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for type in staff.type %}
                                            <tr>
                                                <th scope="row">{{ type.id }}</th>                                               
                                                <td>{{ type.category.name }}</td>
                                                <td>{{ type.name }}</td>
                                                <td><button class="btn btn-sm btn-danger" onclick="removeclass('class.id')">remove</button></td>
                                            </tr>
                                            {% endfor %} 
                                        </tbody>                                        
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END : STAFF TYPE MANAGER -->

                </div>

            </div>
        </div>
    </div>

    {{ template.footer|raw }}

    <!-- START : MODAL : ADD CLASS -->
    <div class="modal fade" id="modal_addclass" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">ADD A NEW CLASS</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>

                <div class="modal-body">

                    <form method="post">

                        <div class="col-12">
                            <div class="form-group">
                                <label for="class">Class Name</label>
                                <input type="text" class="form-control text-capitalize" id="class" maxlength="2"/>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="grade_id">Select Grade</label>
                                <select class="form-control" id="grade_id">
                                        <option selected disabled> - Select Grade - </option>
                                    {% for grade in grades %}
                                        <option value="{{ grade.id }}">{{ grade.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="tic">Teacher in Charge</label>
                                <input type="text" class="form-control" id="tic" maxlength="6"/>
                                <small id="ticHelp" class="form-text text-muted">Enter Employee ID</small>
                            </div>
                        </div>

                    </form>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onClick="addclass();">Save changes</button>
                </div>

            </div>
        </div>
    </div>
    <!-- END : MODAL : ADD CLASS -->

    <!-- START : MODAL : ADD GRADE -->
    <div class="modal fade" id="modal_addgrade" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">ADD A NEW GRADE</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>

                <div class="modal-body">

                    <form method="post">

                        <div class="col-12">
                            <div class="form-group">
                                <label for="grade">Grade Name</label>
                                <input type="number" class="form-control" id="grade_no" maxlength="2"/>
                            </div>
                        </div>

                    </form>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onClick="addgrade();">Save changes</button>
                </div>

            </div>
        </div>
    </div>
    <!-- END : MODAL : ADD GRADE -->

    <!-- START : MODAL : ADD RELIGION -->
    <div class="modal fade" id="modal_addreligion" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">ADD A NEW RELIGION</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>

                <div class="modal-body">

                    <form method="post">

                        <div class="col-12">
                            <div class="form-group">
                                <label for="religion">Religion Name</label>
                                <input type="text" class="form-control" id="religion"/>
                            </div>
                        </div>

                    </form>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onClick="addreligion();">Save changes</button>
                </div>

            </div>
        </div>
    </div>
    <!-- END : MODAL : ADD RELIGION -->

    <!-- START : MODAL : ADD SUBJECT -->
    <div class="modal fade" id="modal_addsubject" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">ADD A NEW SUBJECT</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>

                <div class="modal-body">

                    <form method="post">

                        <div class="col-12">
                            <div class="form-group">
                                <label for="subject">Subject Name</label>
                                <input type="text" class="form-control" id="subject"/>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="subject_siname">Subject Name in Sinhala</label>
                                <input type="text" class="form-control" id="subject_siname"/>
                            </div>
                        </div>

                    </form>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onClick="addsubject();">Save changes</button>
                </div>

            </div>
        </div>
    </div>
    <!-- END : MODAL : ADD SUBJECT -->

    <!-- START : MODAL : ADD RELATIONSHIP -->
    <div class="modal fade" id="modal_addrelation" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">ADD A NEW STUDENT RELATIONSHIP</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>

                <div class="modal-body">

                    <form method="post">

                        <div class="col-12">
                            <div class="form-group">
                                <label for="relation">Relationship Name</label>
                                <input type="text" class="form-control" id="relation"/>
                            </div>
                        </div>

                    </form>

                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onClick="addrelation();">Save changes</button>
                </div>

            </div>
        </div>
    </div>
    <!-- END : MODAL : ADD SUBJECT -->

    <!-- START : MODAL CREATE EXAM-TYPE -->
    <div class="modal fade" id="model_addexamtype" tabindex="-1" role="dialog" aria-labelledby="model_addexamtype-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="model_addexamtype-title"> ADD A NEW EXAM TYPE </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="exam_type"> Exam Type Name </label>
                            <input type="text" class="form-control" id="exam_type"/>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onClick="addexam_type();"> Save changes </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- END : MODAL CREATE EXAM-TYPE -->

    <!-- START : MODAL CREATE SPORT -->
    <div class="modal fade" id="model_addsport" tabindex="-1" role="dialog" aria-labelledby="model_addsport-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="model_addsport-title"> ADD A NEW SPORT </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="sport_name"> Sport Name </label>
                            <input type="text" class="form-control" id="sport_name"/>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onClick="addsport();"> Save changes </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- END : MODAL CREATE SPORT -->

    <!-- START : MODAL CREATE STAFF CATEGORY -->
    <div class="modal fade" id="model_add_staff_category" tabindex="-1" role="dialog" aria-labelledby="model_add_staff_category-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="model_add_staff_category-title"> ADD A NEW STAFF CATEGORY </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="staff_category_name"> Category Name </label>
                            <input type="text" class="form-control" id="staff_category_name"/>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onClick="addstaff_category();"> Save changes </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- END : MODAL CREATE STAFF CATEGORY -->

    <!-- START : MODAL CREATE STAFF TYPE -->
    <div class="modal fade" id="model_add_staff_type" tabindex="-1" role="dialog" aria-labelledby="model_add_staff_type-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="model_add_staff_type-title"> ADD A NEW STAFF TYPE </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form>
                    <div class="modal-body">

                        <div class="form-group">
                            <label for="category_id"> Staff Category </label>
                            <select class="form-control" id="staff_category_id">
                                <option value="">- Select -</option>
                                {% for category in staff.category %}
                                <option value="{{ category.id }}">{{ category.name }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="staff_type_name"> Staff Type Name </label>
                            <input type="text" class="form-control" id="staff_type_name"/>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onClick="addstaff_type();"> Save changes </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- END : MODAL CREATE STAFF TYPE -->


    <script>

        // START : ADD A CLASS
        addclass = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD CLASS DATA
            formData.append('class_name', $("#class").val())
            formData.append('grade_id', $("#grade_id").val())
            formData.append('employee_id', $("#tic").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_addclass",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Class added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A CLASS

        // START : REMOVE CLASS
        removeclass = (class_id) => {

            // PAYLOAD
            var formData = new FormData;
            formData.append('class_id', class_id)

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_removeclass",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Class Removed successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })

        }
        // END : REMOVE CLASS

        // START : ADD A GRADE
        addgrade = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD GRADE DATA
            formData.append('grade_name', $("#grade_no").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_addgrade",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Grade added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A GRADE

        // START : ADD A RELIGION
        addreligion = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD RELIGION DATA
            formData.append('religion_name', $("#religion").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_addreligion",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Religion added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A RELIGION

        // START : ADD A SUBJECT
        addsubject = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD SUBJECT DATA
            formData.append('subject_name', $("#subject").val())
            formData.append('subject_in_sinhala', $("#subject_siname").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_addsubject",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Subject added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A SUBJECT

        // START : ADD A RELATION
        addrelation = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD RELATION DATA
            formData.append('relation_name', $("#relation").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_addrelation",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Relation Type added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A RELATION

        // START : ADD A EXAM_TYPE
        addexam_type = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD EXAM_TYPE DATA
            formData.append('exam_type_name', $("#exam_type").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_addexam_type",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Exam Type added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A EXAM_TYPE

        // START : ADD A SPORT
        addsport = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD SPORT DATA
            formData.append('sport_name', $("#sport_name").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_addsport",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Sport added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A SPORT

        // START : ADD A STAFF CATEGORY
        addstaff_category = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD STAFF CATEGORY DATA
            formData.append('staff_category_name', $("#staff_category_name").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_add_staff_category",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Staff Category added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A STAFF CATEGORY

        // START : ADD A STAFF TYPE
        addstaff_type = () => {

            // PAYLOAD
            var formData = new FormData;

            // ADD STAFF CATEGORY DATA
            formData.append('staff_category_id', $("#staff_category_id").val())
            formData.append('staff_type_name', $("#staff_type_name").val())

            // REQUEST
            $.ajax({
                url: "{{ app.url }}/school/ajax_add_staff_type",
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                dataType: 'json',
                success: (res) => {
                    
                    if ( res.status == 'success' ) {
                        alertify.alert("Success", "Staff Type added successfully ... ").set('onok', function() {
                            location.reload();
                        })
                    } else {
                        console.log(res);
                        alertify.alert("Failed", res.error);
                    }
                },
                error: (e) => {
                    alertify.alert("Error", "Something went wrong ... ");
                    console.log(e.responseText)
                }
            })
        }
        // END : ADD A STAFF TYPE
    
    </script>

</body>